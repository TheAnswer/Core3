/*
 *	server/zone/objects/player/sui/listbox/SuiListBox.cpp generated by engine3 IDL compiler 0.60
 */

#include "SuiListBox.h"

#include "server/zone/objects/scene/SceneObject.h"

#include "server/zone/objects/player/PlayerCreature.h"

#include "server/zone/objects/player/sui/listbox/SuiListBoxMenuItem.h"

/*
 *	SuiListBoxStub
 */

SuiListBox::SuiListBox(PlayerCreature* player, unsigned int windowType, unsigned int listBoxType) : SuiBox(DummyConstructorParameter::instance()) {
	ManagedObject::_setImplementation(new SuiListBoxImplementation(player, windowType, listBoxType));
	ManagedObject::_getImplementation()->_setStub(this);
}

SuiListBox::SuiListBox(DummyConstructorParameter* param) : SuiBox(param) {
}

SuiListBox::~SuiListBox() {
}


void SuiListBox::init() {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 6);

		method.executeWithVoidReturn();
	} else
		((SuiListBoxImplementation*) _getImplementation())->init();
}

void SuiListBox::addMenuItem(const String& name, unsigned long long objectID) {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 7);
		method.addAsciiParameter(name);
		method.addUnsignedLongParameter(objectID);

		method.executeWithVoidReturn();
	} else
		((SuiListBoxImplementation*) _getImplementation())->addMenuItem(name, objectID);
}

String SuiListBox::getMenuItemName(int index) {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 8);
		method.addSignedIntParameter(index);

		method.executeWithAsciiReturn(_return_getMenuItemName);
		return _return_getMenuItemName;
	} else
		return ((SuiListBoxImplementation*) _getImplementation())->getMenuItemName(index);
}

void SuiListBox::removeAllMenuItems() {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 9);

		method.executeWithVoidReturn();
	} else
		((SuiListBoxImplementation*) _getImplementation())->removeAllMenuItems();
}

unsigned long long SuiListBox::getMenuObjectID(unsigned int idx) {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 10);
		method.addUnsignedIntParameter(idx);

		return method.executeWithUnsignedLongReturn();
	} else
		return ((SuiListBoxImplementation*) _getImplementation())->getMenuObjectID(idx);
}

int SuiListBox::getMenuSize() {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 11);

		return method.executeWithSignedIntReturn();
	} else
		return ((SuiListBoxImplementation*) _getImplementation())->getMenuSize();
}

BaseMessage* SuiListBox::generateMessage() {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 12);

		return (BaseMessage*) method.executeWithObjectReturn();
	} else
		return ((SuiListBoxImplementation*) _getImplementation())->generateMessage();
}

void SuiListBox::setNextBox(unsigned int boxID) {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 13);
		method.addUnsignedIntParameter(boxID);

		method.executeWithVoidReturn();
	} else
		((SuiListBoxImplementation*) _getImplementation())->setNextBox(boxID);
}

void SuiListBox::setPreviousBox(unsigned int boxID) {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 14);
		method.addUnsignedIntParameter(boxID);

		method.executeWithVoidReturn();
	} else
		((SuiListBoxImplementation*) _getImplementation())->setPreviousBox(boxID);
}

unsigned long long SuiListBox::getNextBox() {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 15);

		return method.executeWithUnsignedLongReturn();
	} else
		return ((SuiListBoxImplementation*) _getImplementation())->getNextBox();
}

unsigned long long SuiListBox::getPreviousBox() {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 16);

		return method.executeWithUnsignedLongReturn();
	} else
		return ((SuiListBoxImplementation*) _getImplementation())->getPreviousBox();
}

bool SuiListBox::isListBox() {
	if (isNull()) {
		if (!deployed)
			throw ObjectNotDeployedException(this);

		DistributedMethod method(this, 17);

		return method.executeWithBooleanReturn();
	} else
		return ((SuiListBoxImplementation*) _getImplementation())->isListBox();
}

/*
 *	SuiListBoxImplementation
 */

SuiListBoxImplementation::SuiListBoxImplementation(DummyConstructorParameter* param) : SuiBoxImplementation(param) {
	_initializeImplementation();
}


SuiListBoxImplementation::~SuiListBoxImplementation() {
}


void SuiListBoxImplementation::finalize() {
}

void SuiListBoxImplementation::_initializeImplementation() {
	_setClassHelper(SuiListBoxHelper::instance());

	_serializationHelperMethod();
}

void SuiListBoxImplementation::_setStub(DistributedObjectStub* stub) {
	_this = (SuiListBox*) stub;
	SuiBoxImplementation::_setStub(stub);
}

DistributedObjectStub* SuiListBoxImplementation::_getStub() {
	return _this;
}

SuiListBoxImplementation::operator const SuiListBox*() {
	return _this;
}

TransactionalObject* SuiListBoxImplementation::clone() {
	return (TransactionalObject*) new SuiListBoxImplementation(*this);
}


void SuiListBoxImplementation::lock(bool doLock) {
	_this->lock(doLock);
}

void SuiListBoxImplementation::lock(ManagedObject* obj) {
	_this->lock(obj);
}

void SuiListBoxImplementation::rlock(bool doLock) {
	_this->rlock(doLock);
}

void SuiListBoxImplementation::wlock(bool doLock) {
	_this->wlock(doLock);
}

void SuiListBoxImplementation::wlock(ManagedObject* obj) {
	_this->wlock(obj);
}

void SuiListBoxImplementation::unlock(bool doLock) {
	_this->unlock(doLock);
}

void SuiListBoxImplementation::runlock(bool doLock) {
	_this->runlock(doLock);
}

void SuiListBoxImplementation::_serializationHelperMethod() {
	SuiBoxImplementation::_serializationHelperMethod();

	_setClassName("SuiListBox");

	addSerializableVariable("menuItems", &menuItems);
	addSerializableVariable("type", &type);
	addSerializableVariable("next", &next);
	addSerializableVariable("previous", &previous);
}

SuiListBoxImplementation::SuiListBoxImplementation(PlayerCreature* player, unsigned int windowType, unsigned int listBoxType) : SuiBoxImplementation(player, windowType, SuiBox::LISTBOX) {
	_initializeImplementation();
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(72):  		type = listBoxType;
	type = listBoxType;
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(74):  		init();
	init();
}

void SuiListBoxImplementation::init() {
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(78):  		next = 0;
	next = 0;
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(79):  		previous = 0;
	previous = 0;
}

void SuiListBoxImplementation::addMenuItem(const String& name, unsigned long long objectID) {
	ManagedReference<SuiListBoxMenuItem*> _ref0;
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(86):  		SuiListBoxMenuItem item = new SuiListBoxMenuItem(name, objectID);
	SuiListBoxMenuItem* item = _ref0 = new SuiListBoxMenuItem(name, objectID);
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(87):  		menuItems.add(item);
	(&menuItems)->add(item);
}

String SuiListBoxImplementation::getMenuItemName(int index) {
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(91):  		SuiListBoxMenuItem menuItem = menuItems.get(index);
	SuiListBoxMenuItem* menuItem = (&menuItems)->get(index);
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(93):  		return menuItem.getOptionName();
	return menuItem->getOptionName();
}

void SuiListBoxImplementation::removeAllMenuItems() {
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(101):  		menuItems.removeAll();
	(&menuItems)->removeAll();
}

unsigned long long SuiListBoxImplementation::getMenuObjectID(unsigned int idx) {
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(105):  		return 
	if (idx < (&menuItems)->size()){
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(107):  			SuiListBoxMenuItem menuItem = menuItems.get(idx);
	SuiListBoxMenuItem* menuItem = (&menuItems)->get(idx);
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(109):  		}
	if (menuItem != NULL)	// server/zone/objects/player/sui/listbox/SuiListBox.idl(110):  				return menuItem.getObjectID();
	return menuItem->getObjectID();
}
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(113):  0;
	return 0;
}

int SuiListBoxImplementation::getMenuSize() {
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(117):  		return menuItems.size();
	return (&menuItems)->size();
}

void SuiListBoxImplementation::setNextBox(unsigned int boxID) {
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(123):  		next = boxID;
	next = boxID;
}

void SuiListBoxImplementation::setPreviousBox(unsigned int boxID) {
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(127):  		previous = boxID;
	previous = boxID;
}

unsigned long long SuiListBoxImplementation::getNextBox() {
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(131):  		return next;
	return next;
}

unsigned long long SuiListBoxImplementation::getPreviousBox() {
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(135):  		return previous;
	return previous;
}

bool SuiListBoxImplementation::isListBox() {
	// server/zone/objects/player/sui/listbox/SuiListBox.idl(139):  		return true;
	return true;
}

/*
 *	SuiListBoxAdapter
 */

SuiListBoxAdapter::SuiListBoxAdapter(SuiListBoxImplementation* obj) : SuiBoxAdapter(obj) {
}

Packet* SuiListBoxAdapter::invokeMethod(uint32 methid, DistributedMethod* inv) {
	Packet* resp = new MethodReturnMessage(0);

	switch (methid) {
	case 6:
		init();
		break;
	case 7:
		addMenuItem(inv->getAsciiParameter(_param0_addMenuItem__String_long_), inv->getUnsignedLongParameter());
		break;
	case 8:
		resp->insertAscii(getMenuItemName(inv->getSignedIntParameter()));
		break;
	case 9:
		removeAllMenuItems();
		break;
	case 10:
		resp->insertLong(getMenuObjectID(inv->getUnsignedIntParameter()));
		break;
	case 11:
		resp->insertSignedInt(getMenuSize());
		break;
	case 12:
		resp->insertLong(generateMessage()->_getObjectID());
		break;
	case 13:
		setNextBox(inv->getUnsignedIntParameter());
		break;
	case 14:
		setPreviousBox(inv->getUnsignedIntParameter());
		break;
	case 15:
		resp->insertLong(getNextBox());
		break;
	case 16:
		resp->insertLong(getPreviousBox());
		break;
	case 17:
		resp->insertBoolean(isListBox());
		break;
	default:
		return NULL;
	}

	return resp;
}

void SuiListBoxAdapter::init() {
	((SuiListBoxImplementation*) impl)->init();
}

void SuiListBoxAdapter::addMenuItem(const String& name, unsigned long long objectID) {
	((SuiListBoxImplementation*) impl)->addMenuItem(name, objectID);
}

String SuiListBoxAdapter::getMenuItemName(int index) {
	return ((SuiListBoxImplementation*) impl)->getMenuItemName(index);
}

void SuiListBoxAdapter::removeAllMenuItems() {
	((SuiListBoxImplementation*) impl)->removeAllMenuItems();
}

unsigned long long SuiListBoxAdapter::getMenuObjectID(unsigned int idx) {
	return ((SuiListBoxImplementation*) impl)->getMenuObjectID(idx);
}

int SuiListBoxAdapter::getMenuSize() {
	return ((SuiListBoxImplementation*) impl)->getMenuSize();
}

BaseMessage* SuiListBoxAdapter::generateMessage() {
	return ((SuiListBoxImplementation*) impl)->generateMessage();
}

void SuiListBoxAdapter::setNextBox(unsigned int boxID) {
	((SuiListBoxImplementation*) impl)->setNextBox(boxID);
}

void SuiListBoxAdapter::setPreviousBox(unsigned int boxID) {
	((SuiListBoxImplementation*) impl)->setPreviousBox(boxID);
}

unsigned long long SuiListBoxAdapter::getNextBox() {
	return ((SuiListBoxImplementation*) impl)->getNextBox();
}

unsigned long long SuiListBoxAdapter::getPreviousBox() {
	return ((SuiListBoxImplementation*) impl)->getPreviousBox();
}

bool SuiListBoxAdapter::isListBox() {
	return ((SuiListBoxImplementation*) impl)->isListBox();
}

/*
 *	SuiListBoxHelper
 */

SuiListBoxHelper* SuiListBoxHelper::staticInitializer = SuiListBoxHelper::instance();

SuiListBoxHelper::SuiListBoxHelper() {
	className = "SuiListBox";

	DistributedObjectBroker::instance()->registerClass(className, this);
}

void SuiListBoxHelper::finalizeHelper() {
	SuiListBoxHelper::finalize();
}

DistributedObject* SuiListBoxHelper::instantiateObject() {
	return new SuiListBox(DummyConstructorParameter::instance());
}

DistributedObjectServant* SuiListBoxHelper::instantiateServant() {
	return new SuiListBoxImplementation(DummyConstructorParameter::instance());
}

DistributedObjectAdapter* SuiListBoxHelper::createAdapter(DistributedObjectStub* obj) {
	DistributedObjectAdapter* adapter = new SuiListBoxAdapter((SuiListBoxImplementation*) obj->_getImplementation());

	obj->_setClassName(className);
	obj->_setClassHelper(this);

	adapter->setStub(obj);

	return adapter;
}

